<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Biblia Latinoam√©rica</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f4f8;
      color: #333;
      padding: 0;
      margin: 0;
    }
    header {
      background: #3498db;
      color: #fff;
      padding: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    header h1 {
      margin: 0;
      font-size: 20px;
      text-align: center;
    }
    .menu-btn {
      position: absolute;
      left: 15px;
      font-size: 22px;
      cursor: pointer;
      border: none;
      background: none;
      color: #fff;
    }

    /* Drawer (men√∫ lateral) */
    .drawer {
      height: 100%;
      width: 0;
      position: fixed;
      top: 0;
      left: 0;
      background-color: #2c3e50;
      overflow-x: hidden;
      transition: 0.3s;
      padding-top: 60px;
      z-index: 1000;
    }
    .drawer a {
      padding: 12px 20px;
      text-decoration: none;
      font-size: 18px;
      color: #ecf0f1;
      display: block;
      transition: 0.2s;
    }
    .drawer a:hover { background: #34495e; }
    .drawer .closebtn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 25px;
      background: none;
      border: none;
      color: #ecf0f1;
      cursor: pointer;
    }

    /* Contenido */
    main { padding: 20px; }
    h2 { color: #34495e; margin-bottom: 15px; }
    .buttons { text-align: center; margin: 20px 0; }
    button {
      margin: 5px; padding: 12px 18px; cursor: pointer; border: none; border-radius: 8px;
      background: #3498db; color: #fff; font-size: 15px; transition: background 0.3s, transform 0.2s;
    }
    button:hover { background: #2980b9; transform: scale(1.05); }
    ul {
      list-style: none; padding: 0;
      display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px;
    }
    li { margin: 0; }
    a.book-link {
      display: block; background: #fff; padding: 12px; border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1); text-decoration: none; color: #2c3e50; font-weight: 500;
      transition: transform 0.2s, background 0.3s;
    }
    a.book-link:hover { background: #ecf6ff; transform: translateY(-2px); }
    .back {
      margin: 10px 0; display: inline-block; background: #e74c3c; color: #fff !important;
      padding: 8px 14px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      transition: background 0.3s; text-decoration: none;
    }
    .back:hover { background: #c0392b; }
    .verse-list { display: flex; flex-direction: column; gap: 10px; }
    .verse {
      background: #fff; padding: 10px 14px; border-left: 5px solid #3498db; border-radius: 6px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .verse b { color: #2980b9; }
  </style>
</head>
<body>
  <!-- Encabezado con bot√≥n de men√∫ -->
  <header>
    <button class="menu-btn" onclick="openDrawer()">‚ò∞</button>
    <h1>üìñ Biblia Latinoam√©rica</h1>
  </header>

  <!-- Drawer lateral solo con Himnos -->
  <div id="drawer" class="drawer">
    <button class="closebtn" onclick="closeDrawer()">√ó</button>
    <a href="himno.html">üé∂ Himnos</a>
  </div>

  <main>
    <div class="buttons">
      <button onclick="showBooks('old')">Antiguo Testamento</button>
      <button onclick="showBooks('new')">Nuevo Testamento</button>
    </div>
    <div id="content">Cargando Biblia...</div>
  </main>

  <script>
    // Drawer
    function openDrawer() { document.getElementById("drawer").style.width = "250px"; }
    function closeDrawer() { document.getElementById("drawer").style.width = "0"; }

    // Biblia
    const url = "https://dl.dropboxusercontent.com/scl/fi/j22mrapse04d8hcys78s6/biblia.json?rlkey=onkqp2evjm6lztkuvu8wl6tkm&st=98bx1gtf";
    let biblia = null;
    let currentBook = null;

    async function loadBiblia() {
      try {
        const res = await fetch(url);
        biblia = await res.json();
        showBooks("old");
      } catch (e) {
        document.getElementById("content").innerText = "‚ö†Ô∏è Error al cargar la Biblia";
        console.error(e);
      }
    }

    function showBooks(testament) {
      const content = document.getElementById("content");
      const books = biblia.books.filter(b => b.testament === testament).sort((a,b)=>a.book_id-b.book_id);
      content.innerHTML = `<h2>${testament==="old"?"Antiguo":"Nuevo"} Testamento</h2><ul>` +
        books.map(b=>`<li><a href="#" class="book-link" onclick="showChapters(${b.book_id})">${b.long_name}</a></li>`).join("") +
        "</ul>";
    }

    function showChapters(bookId) {
      currentBook = biblia.books.find(b => b.book_id === bookId);
      let html = `<a href="#" class="back" onclick='showBooks("${currentBook.testament}")'>‚Üê Volver</a>`;
      html += `<h2>${currentBook.long_name}</h2><ul>`;
      for(let i=1;i<=currentBook.chapters_count;i++){
        html += `<li><a href="#" class="book-link" onclick="showVerses(${currentBook.book_id},${i})">üìÑ Cap√≠tulo ${i}</a></li>`;
      }
      html += "</ul>";
      document.getElementById("content").innerHTML = html;
    }

    function showVerses(bookId, chapter) {
      const verses = biblia.verses.filter(v => v.book_id === bookId && v.chapter === chapter);
      let html = `<a href="#" class="back" onclick="showChapters(${bookId})">‚Üê Volver</a>`;
      html += `<h2>${currentBook.long_name} - Cap√≠tulo ${chapter}</h2><div class="verse-list">`;
      verses.forEach(v=>{
        html += `<div class="verse"><b>${v.verse}</b>. ${v.text}</div>`;
      });
      html += "</div>";
      document.getElementById("content").innerHTML = html;
    }

    loadBiblia();
  </script>
</body>
</html>